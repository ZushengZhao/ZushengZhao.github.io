---
layout: post
title: "MFC笔记_3"
date: 2018-10-12
categories: MFC
tags: [MFC, Visual Studio]
description: 学习中的几个小问题。
---

摘要：整理了一下学习中遇到的几个小问题，问题虽小，很常见也很关键，记住了，不能总是去百度。

---

## 运行生成的可执行文件（.exe）的时候，出现**.dll文件丢失**的情况。

![](http://oxt33qs1f.bkt.clouddn.com/MFC_3_lose_dll.png)

- 没有把需要的.dll文件放在生成的**Debug文件夹**中，解决办法很简单，把相关的.dll文件拷进去就行了。

题外：dll文件是什么，DLL(Dynamic Link Library)，动态链接库，可以理解为一个代码和数据的库，使应用进程可以调用不属于其可执行代码的函数，这些函数的可执行代码在dll文件中，DLL 包含一个或多个**已被编译、链接并与使用它们的进程分开存储的函数**。在我二次开发dobot机械臂的过程中，dll文件由厂家提供，我可以直接调用动态链接库，使用**库里面定义好的函数**，对机械臂进行控制，而**不需要进行通信协议相关的开发工作**。

### #pragma comment

当然，使用动态链接库还要先在代码里将动态链接库所在的目录添加到系统path的环境变量。使用```#pragma comment(lib, "./DobotDll/DobotDll.lib")```而不是在setting里面改设置，更加方便。

![](http://oxt33qs1f.bkt.clouddn.com/MFC_3_lib.png)

- 然后这里要注意，"./XXX"中的**点"." ，别点多了，"./"表示在当前目录下的某个文件或者文件夹，视后面跟的名字走，"../"表示当前文件夹的上一级目录的文件或者文件夹**，跟着名字走。

## 更改控件的ID后，cpp文件显示错误“未定义的标识符”

- 更改ID后，文件中新的ID下面会有波浪线报错，提示“未定义的标识符”，一般不用理会，直接可以编译，但是有时候，不知道什么情况，编译报错，这个时候，直接保存所有文件，关闭重新打开就行了。我也不知道啥原因。

![](http://oxt33qs1f.bkt.clouddn.com/MFC_3_ID.png)

### 重定义默认参数

- 函数声明的时候，定义了部分参数的默认值，在函数定义的时候，如果直接复制.h文件中函数声明的时候那一段函数的代码，编译就会报错，原因是在函数声明的时候定义的部分参数的默认值，在函数定义的时候，又重新定义，导致冲突报错，如下图：

- 在.h文件里面声明函数，如下图，可以在声明的时候定义部分参数的默认值

![](http://oxt33qs1f.bkt.clouddn.com/MFC_3_REDEFINE.png)

- 但是在.cpp文件里面，函数定义的时候，不能重新给参数赋默认值。

![](http://oxt33qs1f.bkt.clouddn.com/MFC_3_REDEFINE2.png)




