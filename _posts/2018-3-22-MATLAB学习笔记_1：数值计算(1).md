---
layout: post
title: "MATLAB学习笔记_1：数值计算(1)"
date: 2018-03-22
categories: MATLAB
tags: [MATLAB, 学习]
description: 开始学习MATLAB
---
## 	常用数值类型
MATLAB常用数值类型有三种：**数值型**、**字符串型**和**符号型**。**矩阵**为基本运算单元字符串又称标识符，是一串符号的组合。标识符由英文字母、阿拉伯数字和下划线组成，必须以**英文字母**开头。

MATLAB也需要为变量赋值，其**变量不需要事先定义**，MATLAB会根据变量的操作**自动**生成变量并确定变量的类型。变量命名的方法与标识符相同，通过“=”赋值。
	A=100;
	A1=[1 2 3;4 5 6];
	B=‘this is a string’;
常用特殊变量名称及其意义

| 变量名 | 意义 |
| --- | --- |
| pi | 圆周率 |
| INF或inf | 无穷大 |
| nan | 代表不定值 |
| eps | 默认浮点数精度 |
| i,j | 虚数单位 |
| ANS | 临时变量名，代表未定义变量名的运算输出结果 |
| nargin | 函数实际输入参数数量 |
| nargout | 函数实际输出参数数量 |
| realmax | 最大正实数 |
| realmin | 最小正实数 |

## 	矩阵与数组运算

### 	创建矩阵

矩阵以左括号“[”开始，右括号“]”结束，同一行元素用空格或者逗号隔开，列之间用分号“；”隔开。

```
>> C=[1 2 3 4 5;6 7 8 9 10;11 12 13 14 15;16 17 18 19 20]

C =

     1     2     3     4     5
     6     7     8     9    10
    11    12    13    14    15
    16    17    18    19    20

>> C(2,3)  %第二行第三列的元素

ans =

     8

>> C(:,3)  %第三列元素

ans =

     3
     8
    13
    18

>> C(3,:)  %第三行元素

ans =

    11    12    13    14    15

>> C(1:3,3:4)  %1-3行和3-4列相交的元素

ans =

     3     4
     8     9
13    14

>> C(1,2)=33   %将第一行第二列的元素替换为33

C =

     1    33     3     4     5
     6     7     8     9    10
    11    12    13    14    15
    16    17    18    19    20

>> C(3,:)=[]   %删除第三行

C =

     1    33     3     4     5
     6     7     8     9    10
    16    17    18    19    20

```
MATLAB常用生成特殊矩阵的函数

| 函数 |	含义 |
| --- | --- |
| zeros() |	生成元素全为0 的矩阵|
| ones() |	生成元素全为1的矩阵 |
| eye() |	生成单位矩阵 |
| magic() |	生成魔方矩阵（行列和值相等） |
| rand() |	生成随机元素矩阵 |
| company() |	生成伴随矩阵 |
| diag() |	生成对角矩阵 |
| trid() |	生成上三角矩阵 |
| tril() |	生成下三角矩阵 |

### 	矩阵四则运算

矩阵的除分为**左除（\）**，**右除（/）**。解矩阵方程**Ax=B**时采用左除，即**x=A\B**，称A左除B；解矩阵方程**xA = B**时采用右除，即**x=B/A**。

### 	矩阵函数运算

有关**矩阵特征参数**、**矩阵特征值**、**矩阵奇异值**等专用函数

常用专用矩阵函数

| 函数名称	| 含义 |
| --- | --- |
| det() |	矩阵的行列式值函数 |
| eig() | 矩阵的特征值、特征向量函数 |
| inv() |	矩阵的逆函数 |
| null()	| 矩阵的零空间函数 |
| rank() |	矩阵的秩函数 |

### 	数组运算

数组运算就是把每个矩阵看做由独立元素组成的数据，参与运算矩阵之间所对应的行列元素直接进行数与数之间的运算（可以看做行和列各元素之间没有相互绑定的关系）。

数组的加减运算与矩阵相同，乘除时，数组对应的运算为**点乘“.*”**，**左点除“./”**和**右点除“.\”**。

```
>> A=[9 8 7;6 5 4;3 2 1];
>> B=[1 2 3;4 5 6;7 8 9];
>> C1=A.*B

C1 =

     9    16    21
    24    25    24
    21    16     9

>> C2=A./B

C2 =

    9.0000    4.0000    2.3333
    1.5000    1.0000    0.6667
    0.4286    0.2500    0.1111

>> C3=A.\B

C3 =

    0.1111    0.2500    0.4286
    0.6667    1.0000    1.5000
2.3333    4.0000    9.0000

```

##  常用函数概览

MATLAB常用运算函数

| 运算函数名称 | 含义 |
| --- | --- |
| det()	| 矩阵的行列式值函数 |
| eig()	| 矩阵的特征值、特征向量函数 |
| inv() |	矩阵的逆函数 |
| null() | 矩阵的零空间函数 |
| rank() |	矩阵的秩函数 |
| dot() | 向量的数量积（点积） |
| cross() | 向量的向量积 |
| max()	| 阵列中最大值 |
| min()	| 阵列中最小值 |
| sum() |	计算阵列元素的和值 |


## 	常用数值方法举例——**线性代数方程组**的求解

线性代数方程组分为**齐次**和**非齐次**。

.对于**齐次线性代数方程组Ax=0**，A为 mXn阶系数矩阵，x为n维列矩阵，其求解步骤如下：

a. 当系数矩阵的秩等于n时，方程有零解。
b. 当系数矩阵的秩小于n时，方程组有无穷多组解，可以用null(A)求出零空间的近似数值解或者用null(sym(A))求出最接近零空间的数值解的有理式。

.对于**非齐次线性方程组Ax=B**，A为mXn阶系数矩阵，其求解步骤如下：
a. 确定系数矩阵[A]的秩Ra和增广矩阵]A B]的秩Rb。
b. 当Ra=Rb=n时，若det(A)不等于0，则方程组有唯一解，可以通过左除法A\B求解x。
c. 当Ra=Rb<n时，则方程组有无穷多解，其通解由Ax=0的通解和Ax=B的特解构成。
d. 依据**高斯消去法**原理编写程序求解。
e. 对大型方程可以用迭代法求解。

.例1：解齐次方程组
```
>> A=[4 4 2;-3 12 3;8 -2 1;2 12 4];
>> R=rank(A)

R =
     2
>> x1=null(A)

x1 =
    0.1881
    0.2822
   -0.9407
>> x2=null(sym(A))
 
x2 =
  -1/5
 -3/10
     1
```
即x= -k/5，y=-3k/10，z=k，其中，k为任意常数。

.例2：有唯一解的非齐次线性方程组

```
>> A=[1 -2 6;3 8 1;18 -1 3];
>> B=[54 -6 70]';
>> RA=rank(A);
>> RB=rank([A B])
RB =
     3

>> RA
RA =
     3

>> det(A)

ans =
 -875.0000

>> xx=A\B
xx =
    2.4571
   -2.6354
    7.7120
```

.例3：有无穷解的非齐次线性方程组

```
>> A=[1 2 3;4 5 6;7 8 9];
>> B=[-1 -2 -3]';
>> RA=rank(A)

RA =
     2

>> RB=rank([A B])
RB =
     2

>> x1=null(sym(A))
x1 =
  1
 -2
  1
 
>> %Ax=B的特解为
>> x2=A\B
Warning: Matrix is close to singular or badly scaled. Results may be inaccurate. RCOND =
1.541976e-18. 
 
x2 =
    0.4762
   -0.9524
    0.1429

>> x3=sym(A)\sym(B)
Warning: The system is rank-deficient. Solution is not unique. 
> In symengine
  In sym/privBinaryOp (line 908)
  In  \  (line 321) 
 
x3 =
  1/3
 -2/3
    0
 
>>
```

方程组的通解为X=kx1+x3。（即**齐次的通解**加上**非齐次的特解**）

.例4：用高斯消去法解线性代数方程

高斯消去法的主要思想可以概括为**消元**和**回代**，即通过一系列消元变换将增广矩阵变为上三角矩阵，得到xn的解，然后回代，逐步得到方程的所有解。其中如果A（1,1）=0，则将增广矩阵的第一行与下面第一个系数不为0的那一行调换即可。

```
>> %依据高斯消去法解线性方程组
A=[8 -3 3 5;11 -6 4 8;3 -13 9 3;-6 4 1 -18];
B=[15 25 -18 -38]';
n=4;
A1=A;B1=B;
for k=1:n-1
       if abs(A1(k,k))>eps   %该行处于矩阵对角线上的元素不为零时
          for i=k+1:n
             m(i,k)=A1(i,k)/A1(k,k);

             for j=k+1:n
                A1(i,j)=A1(i,j)-m(i,k)*A1(k,j);
             end
             B1(i)=B1(i)-m(i,k)*B1(k);
          end
       else          
          disp('Naive Gaussian Elimination fails')
          return
       end %if 
end    %look k      %消元完成
x(n)=B1(n)/A1(n,n);    %开始回代求解
for i=n-1:-1:1
       s=B1(i);
       for j=i+1:n
          s=s-A1(i,j)*x(j);
       end   %loop j
       x(i)=s/A1(i,i);
end
>> x

x =

    3.1172   -1.7322   -5.6653    0.3724
```
