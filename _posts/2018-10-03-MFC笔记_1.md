---
layout: post
title: "MFC笔记_1"
date: 2018-10-03
categories: MFC
tags: [MFC, Visual Studio]
description: MFC入门，建立第一个桌面应用程序
---

摘要：开始学习MFC，把学习的过程和体会一点点积累起来。

---


## 初识MFC

- MFC是什么，初学这个的时候一时半会是真的搞不清，只知道是微软的一个基础类库（Microsoft Foundation Classes，简称MFC），因为自己没有学过C++，之前学的是C，一个面向对象，一个面向过程，这个概念的理解也是学了一阵子之后才渐渐明了。
  如果直接看百度百科的解释，说明了MFC和C++的关系，MFC的概念。
  
- 微软基础类库（英语：Microsoft Foundation Classes，简称MFC）是微软公司提供的一个类库（class libraries），以C++类的形式封装了Windows API，并且包含一个应用程序框架，以减少应用程序开发人员的工作量。其中包含大量Windows句柄封装类和很多Windows的内建控件和组件的封装类。
（解释源自[百度百科:MFC](https://baike.baidu.com/item/MFC/2530850?fr=aladdin)）

- 在学习的过程中，MFC的消息映射机制自己理解了好一阵子，消息、消息映射、消息处理函数、回调函数......有很多基本的概念需要理解，以后会详细说明。这次主要就介绍一下MFC的最基本的几个概念，还有visual studio的介绍。

## 基本概念解释

### SDK

- SDK：软件开发工具包（Software Development Kit），一般都是一些被软件工程师用于为特定的软件包、软件框架、硬件平台、操作系统等建立应用软件的开发工具的集合。它可以简单的为某个程序设计语言提供应用程序接口 API 的一些文件，但也可能包括能与某种嵌入式系统通讯的复杂的硬件。一般的工具包括用于调试和其他用途的实用工具。SDK 还经常包括示例代码、支持性的技术注解或者其他的为基本参考资料澄清疑点的支持文档。（源自[百度百科-SDK](https://baike.baidu.com/item/sdk/7815680?fr=aladdin)）

### API

- API：应用程序编程接口（Application Programming Interface），是一些预定义的函数，目的是提供应用程序与开发人员基于某软件或硬件得以访问一组例程的能力，而又无需访问源码，或理解内部工作机制的细节。（源自[百度百科-API](https://baike.baidu.com/item/api/10154)）

- 这里我需要控制得Dobot机械臂具有二次开发的能力，就是基于官方给的API接口，我直接引用官方定义好的函数即可，这些函数都在.h文件中进行了声明。

### 窗口和句柄

- 窗口

窗口是Windows应用程序中的非常重要的一个元素，具体表现为屏幕上的一个矩形区域，是Windows应用程序与用户进行交互的接口，可以通过窗口接收用户的输入，以及显示输出。

应用程序窗口通常包含标题栏、菜单栏、系统菜单、最小化框、最大化框、可调边框，有的还有滚动条，主要取决于应用程序需要是实现的功能。

  标题栏、菜单栏、系统菜单、最大化和最小化框、可调边框等属于窗口的非客户区，由Windows系统来管理，而应用程序则主要管理客户区的外观及操作，客户区也就是窗口边框内部的一大块区域。
  窗口有父窗口和子窗口，有父窗口的窗口称为子窗口，子窗口一般从父窗口中弹出。
  
- 句柄
  句柄（HANDLE）是Windows程序中一个重要的概念。在Windows程序中，有各种各样的资源（窗口、图标、画刷、光标等），系统在创建这些资源的同时会为它们分配内存，并返回标识这些**资源的标识号**，即句柄。其中HWND是窗口句柄，HICON是图标句柄，HCURSOR是光标句柄，HBRUSH是画刷句柄。
  对于句柄，我看网上很多人都说可以理解为指针，只是通俗的可以这样理解，把句柄看做指向一些资源的符号，但句柄由于是Windows系统创建，受操作系统限制，只能调用系统提供的服务。同时句柄也不像ID可以由自己定义，句柄经由系统定义，我们就只负责使用吧。
  
### 消息与消息队列

  Windows程序设计以事件驱动，主要基于消息的。
  怎么理解？
  当Windows应用程序开始执行后，系统为该程序创建一个消息队列，这个消息队列用于存放该程序创建的窗口消息。当我们按下了按钮或者点击了鼠标，系统会感知这个事件，将事件包装成消息，投递到应用程序的消息队列中，等待应用程序处理。这里注意**事件**和**消息**的用词不同。
  可以理解为：发生了事件，传递了消息。
  应用程序通过消息循环不断地从消息队列中取出消息（如果队列中有的话），然后进行响应。在处理这个过程中，操作系统也会给应用程序“发送消息”。所谓“发送信息”实际上是操作系统调用程序中一个专门负责处理消息的函数，这个函数称为**窗口过程**。
